{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar helper = {\n  getDelta: function getDelta(event) {\n    if (event.wheelDelta) {\n      return event.wheelDelta;\n    } else {\n      return -event.detail;\n    }\n  },\n  throttle: function throttle(method, delay, context) {\n    var inThrottle = false;\n    return function () {\n      if (!inThrottle) {\n        inThrottle = true;\n        method.apply(context, arguments);\n        setTimeout(function () {\n          inThrottle = false;\n        }, delay);\n      }\n    };\n  },\n  debounce: function debounce(method, delay, context) {\n    var inDebounce;\n    return function () {\n      var _arguments = arguments;\n      clearTimeout(method.inDebounce);\n      inDebounce = setTimeout(function () {\n        method.apply(context, _arguments);\n      }, delay);\n    };\n  }\n};\n\nvar FullScrollPage = /*#__PURE__*/function () {\n  function FullScrollPage(currentPageNumber, totalPageNumber, pages) {\n    _classCallCheck(this, FullScrollPage);\n\n    this.currentPageNumber = currentPageNumber;\n    this.totalPageNumber = totalPageNumber;\n    this.pages = pages;\n    this.viewHeight = document.documentElement.clientHeight;\n  }\n\n  _createClass(FullScrollPage, [{\n    key: \"mouseScroll\",\n    value: function mouseScroll(event) {\n      var delta = helper.getDelta(event);\n\n      if (delta < 0) {\n        this.scrollDown();\n      } else {\n        this.scrollUp();\n      }\n    }\n  }, {\n    key: \"scrollDown\",\n    value: function scrollDown() {\n      if (this.currentPageNumber !== this.totalPageNumber) {\n        this.pages.style.top = -this.viewHeight * this.currentPageNumber + 'px';\n        this.currentPageNumber++;\n        this.updateNav();\n        this.textFadeInOut();\n      }\n    }\n  }, {\n    key: \"scrollUp\",\n    value: function scrollUp() {\n      if (this.currentPageNumber !== 1) {\n        this.pages.style.top = -this.viewHeight * (this.currentPageNumber - 2) + 'px';\n        this.currentPageNumber--;\n        this.updateNav();\n        this.textFadeInOut();\n      }\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(targetPageNumber) {\n      while (this.currentPageNumber !== targetPageNumber) {\n        if (this.currentPageNumber > targetPageNumber) {\n          this.scrollUp();\n        } else {\n          this.scrollDown();\n        }\n      }\n    }\n  }, {\n    key: \"createNav\",\n    value: function createNav() {\n      var _this = this;\n\n      var pageNav = document.createElement('div');\n      pageNav.className = 'nav-dot-container';\n      this.pages.appendChild(pageNav);\n\n      for (var i = 0; i < this.totalPageNumber; i++) {\n        pageNav.innerHTML += '<p class=\"nav-dot\"><span></span></p>';\n      }\n\n      var navDots = document.getElementsByClassName('nav-dot');\n      this.navDots = Array.prototype.slice.call(navDots);\n      this.navDots[0].classList.add('dot-active');\n      this.navDots.forEach(function (e, index) {\n        e.addEventListener('click', function (event) {\n          _this.scrollTo(index + 1);\n\n          _this.navDots.forEach(function (e) {\n            e.classList.remove('dot-active');\n          });\n\n          e.classList.add('dot-active');\n        });\n      });\n    }\n  }, {\n    key: \"updateNav\",\n    value: function updateNav() {\n      this.navDots.forEach(function (e) {\n        e.classList.remove('dot-active');\n      });\n      this.navDots[this.currentPageNumber - 1].classList.add('dot-active');\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      this.viewHeight = document.documentElement.clientHeight;\n      this.pages.style.height = this.viewHeight + 'px';\n      this.pages.style.top = -this.viewHeight * (this.currentPageNumber - 1) + 'px';\n    }\n  }, {\n    key: \"textFadeInOut\",\n    value: function textFadeInOut() {\n      var containersDom = document.getElementsByClassName('text-container');\n      var textContainers = Array.prototype.slice.call(containersDom);\n      textContainers.forEach(function (e) {\n        e.classList.remove('in-sight');\n      });\n      var textContainerInSight = textContainers[this.currentPageNumber - 1]; // textContainerInSight.classList.add('in-sight');\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var handleMouseWheel = helper.throttle(this.mouseScroll, 0, this);\n      var handleResize = helper.debounce(this.resize, 0, this);\n      this.pages.style.height = this.viewHeight + 'px';\n      this.createNav();\n      this.textFadeInOut(); // if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n      //     document.addEventListener('wheel', handleMouseWheel);\n      // } else {\n      //     document.addEventListener('DOMMouseScroll', handleMouseWheel);\n      // }\n\n      document.addEventListener('scroll', handleMouseWheel);\n      document.addEventListener('touchstart', function (event) {\n        _this2.startY = event.touches[0].pageY;\n      });\n      document.addEventListener('touchend', function (event) {\n        var endY = event.changedTouches[0].pageY;\n\n        if (_this2.startY - endY < 0) {\n          _this2.scrollUp();\n        }\n\n        if (_this2.startY - endY > 0) {\n          _this2.scrollDown();\n        }\n      });\n      document.addEventListener('touchmove', function (event) {\n        event.preventDefault();\n      });\n      window.addEventListener('resize', handleResize);\n    }\n  }]);\n\n  return FullScrollPage;\n}();\n\nexport default FullScrollPage;","map":{"version":3,"sources":["C:/Users/Ali/Desktop/improver/components/Main/FullScrollPage.js"],"names":["helper","getDelta","event","wheelDelta","detail","throttle","method","delay","context","inThrottle","apply","arguments","setTimeout","debounce","inDebounce","clearTimeout","FullScrollPage","currentPageNumber","totalPageNumber","pages","viewHeight","document","documentElement","clientHeight","delta","scrollDown","scrollUp","style","top","updateNav","textFadeInOut","targetPageNumber","pageNav","createElement","className","appendChild","i","innerHTML","navDots","getElementsByClassName","Array","prototype","slice","call","classList","add","forEach","e","index","addEventListener","scrollTo","remove","height","containersDom","textContainers","textContainerInSight","handleMouseWheel","mouseScroll","handleResize","resize","createNav","startY","touches","pageY","endY","changedTouches","preventDefault","window"],"mappings":"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","sourcesContent":["const helper = {\r\n    getDelta(event) {\r\n        if (event.wheelDelta) {\r\n            return event.wheelDelta;\r\n        } else {\r\n            return -event.detail;\r\n        }\r\n    },\r\n    throttle(method, delay, context) {\r\n        let inThrottle = false;\r\n        return function () {\r\n            if (!inThrottle) {\r\n                inThrottle = true;\r\n                method.apply(context, arguments);\r\n                setTimeout(() => {\r\n                    inThrottle = false;\r\n                }, delay);\r\n            }\r\n        };\r\n    },\r\n    debounce(method, delay, context) {\r\n        let inDebounce;\r\n        return function () {\r\n            clearTimeout(method.inDebounce);\r\n            inDebounce = setTimeout(() => {\r\n                method.apply(context, arguments);\r\n            }, delay);\r\n        };\r\n    },\r\n};\r\nclass FullScrollPage {\r\n    constructor(currentPageNumber, totalPageNumber, pages) {\r\n        this.currentPageNumber = currentPageNumber;\r\n        this.totalPageNumber = totalPageNumber;\r\n        this.pages = pages;\r\n        this.viewHeight = document.documentElement.clientHeight;\r\n    }\r\n    mouseScroll(event) {\r\n        let delta = helper.getDelta(event);\r\n        if (delta < 0) {\r\n            this.scrollDown();\r\n        } else {\r\n            this.scrollUp();\r\n        }\r\n    }\r\n    scrollDown() {\r\n        if (this.currentPageNumber !== this.totalPageNumber) {\r\n            this.pages.style.top = -this.viewHeight * this.currentPageNumber + 'px';\r\n            this.currentPageNumber++;\r\n            this.updateNav();\r\n            this.textFadeInOut();\r\n        }\r\n    }\r\n    scrollUp() {\r\n        if (this.currentPageNumber !== 1) {\r\n            this.pages.style.top = -this.viewHeight * (this.currentPageNumber - 2) + 'px';\r\n            this.currentPageNumber--;\r\n            this.updateNav();\r\n            this.textFadeInOut();\r\n        }\r\n    }\r\n    scrollTo(targetPageNumber) {\r\n        while (this.currentPageNumber !== targetPageNumber) {\r\n            if (this.currentPageNumber > targetPageNumber) {\r\n                this.scrollUp();\r\n            } else {\r\n                this.scrollDown();\r\n            }\r\n        }\r\n    }\r\n    createNav() {\r\n        const pageNav = document.createElement('div');\r\n        pageNav.className = 'nav-dot-container';\r\n        this.pages.appendChild(pageNav);\r\n        for (let i = 0; i < this.totalPageNumber; i++) {\r\n            pageNav.innerHTML += '<p class=\"nav-dot\"><span></span></p>';\r\n        }\r\n        const navDots = document.getElementsByClassName('nav-dot');\r\n        this.navDots = Array.prototype.slice.call(navDots);\r\n        this.navDots[0].classList.add('dot-active');\r\n        this.navDots.forEach((e, index) => {\r\n            e.addEventListener('click', (event) => {\r\n                this.scrollTo(index + 1);\r\n                this.navDots.forEach((e) => {\r\n                    e.classList.remove('dot-active');\r\n                });\r\n                e.classList.add('dot-active');\r\n            });\r\n        });\r\n    }\r\n    updateNav() {\r\n        this.navDots.forEach((e) => {\r\n            e.classList.remove('dot-active');\r\n        });\r\n        this.navDots[this.currentPageNumber - 1].classList.add('dot-active');\r\n    }\r\n    resize() {\r\n        this.viewHeight = document.documentElement.clientHeight;\r\n        this.pages.style.height = this.viewHeight + 'px';\r\n        this.pages.style.top = -this.viewHeight * (this.currentPageNumber - 1) + 'px';\r\n    }\r\n    textFadeInOut() {\r\n        const containersDom = document.getElementsByClassName('text-container');\r\n        let textContainers = Array.prototype.slice.call(containersDom);\r\n        textContainers.forEach((e) => {\r\n            e.classList.remove('in-sight');\r\n        });\r\n        let textContainerInSight = textContainers[this.currentPageNumber - 1];\r\n        // textContainerInSight.classList.add('in-sight');\r\n    }\r\n    init() {\r\n        let handleMouseWheel = helper.throttle(this.mouseScroll, 0, this);\r\n        let handleResize = helper.debounce(this.resize, 0, this);\r\n        this.pages.style.height = this.viewHeight + 'px';\r\n        this.createNav();\r\n        this.textFadeInOut();\r\n        // if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\r\n        //     document.addEventListener('wheel', handleMouseWheel);\r\n        // } else {\r\n        //     document.addEventListener('DOMMouseScroll', handleMouseWheel);\r\n        // }\r\n        document.addEventListener('scroll', handleMouseWheel);\r\n        document.addEventListener('touchstart', (event) => {\r\n            this.startY = event.touches[0].pageY;\r\n        });\r\n        document.addEventListener('touchend', (event) => {\r\n            let endY = event.changedTouches[0].pageY;\r\n            if (this.startY - endY < 0) {\r\n                this.scrollUp();\r\n            }\r\n            if (this.startY - endY > 0) {\r\n                this.scrollDown();\r\n            }\r\n        });\r\n        document.addEventListener('touchmove', (event) => {\r\n            event.preventDefault();\r\n        });\r\n        window.addEventListener('resize', handleResize);\r\n    }\r\n}\r\n\r\nexport default FullScrollPage;\r\n"]},"metadata":{},"sourceType":"module"}