{"ast":null,"code":"const helper = {\n  getDelta(event) {\n    if (event.wheelDelta) {\n      return event.wheelDelta;\n    } else {\n      return -event.detail;\n    }\n  },\n\n  throttle(method, delay, context) {\n    let inThrottle = false;\n    return function () {\n      if (!inThrottle) {\n        inThrottle = true;\n        method.apply(context, arguments);\n        setTimeout(() => {\n          inThrottle = false;\n        }, delay);\n      }\n    };\n  },\n\n  debounce(method, delay, context) {\n    let inDebounce;\n    return function () {\n      clearTimeout(method.inDebounce);\n      inDebounce = setTimeout(() => {\n        method.apply(context, arguments);\n      }, delay);\n    };\n  }\n\n};\n\nclass FullScrollPage {\n  constructor(currentPageNumber, totalPageNumber, pages) {\n    this.currentPageNumber = currentPageNumber;\n    this.totalPageNumber = totalPageNumber;\n    this.pages = pages;\n    this.viewHeight = document.documentElement.clientHeight;\n  }\n\n  mouseScroll(event) {\n    let delta = helper.getDelta(event);\n\n    if (delta < 0) {\n      this.scrollDown();\n    } else {\n      this.scrollUp();\n    }\n  }\n\n  scrollDown() {\n    if (this.currentPageNumber !== this.totalPageNumber) {\n      this.pages.style.top = -this.viewHeight * this.currentPageNumber + 'px';\n      this.currentPageNumber++;\n      this.updateNav();\n      this.textFadeInOut();\n    }\n  }\n\n  scrollUp() {\n    if (this.currentPageNumber !== 1) {\n      this.pages.style.top = -this.viewHeight * (this.currentPageNumber - 2) + 'px';\n      this.currentPageNumber--;\n      this.updateNav();\n      this.textFadeInOut();\n    }\n  }\n\n  scrollTo(targetPageNumber) {\n    while (this.currentPageNumber !== targetPageNumber) {\n      if (this.currentPageNumber > targetPageNumber) {\n        this.scrollUp();\n      } else {\n        this.scrollDown();\n      }\n    }\n  }\n\n  createNav() {\n    const pageNav = document.createElement('div');\n    pageNav.className = 'nav-dot-container';\n    this.pages.appendChild(pageNav);\n\n    for (let i = 0; i < this.totalPageNumber; i++) {\n      pageNav.innerHTML += '<p class=\"nav-dot\"><span></span></p>';\n    }\n\n    const navDots = document.getElementsByClassName('nav-dot');\n    this.navDots = Array.prototype.slice.call(navDots);\n    this.navDots[0].classList.add('dot-active');\n    this.navDots.forEach((e, index) => {\n      e.addEventListener('click', event => {\n        this.scrollTo(index + 1);\n        this.navDots.forEach(e => {\n          e.classList.remove('dot-active');\n        });\n        e.classList.add('dot-active');\n      });\n    });\n  }\n\n  updateNav() {\n    this.navDots.forEach(e => {\n      e.classList.remove('dot-active');\n    });\n    this.navDots[this.currentPageNumber - 1].classList.add('dot-active');\n  }\n\n  resize() {\n    this.viewHeight = document.documentElement.clientHeight;\n    this.pages.style.height = this.viewHeight + 'px';\n    this.pages.style.top = -this.viewHeight * (this.currentPageNumber - 1) + 'px';\n  }\n\n  textFadeInOut() {\n    const containersDom = document.getElementsByClassName('text-container');\n    let textContainers = Array.prototype.slice.call(containersDom);\n    textContainers.forEach(e => {\n      e.classList.remove('in-sight');\n    });\n    let textContainerInSight = textContainers[this.currentPageNumber - 1]; // textContainerInSight.classList.add('in-sight');\n  }\n\n  init() {\n    let handleMouseWheel = helper.throttle(this.mouseScroll, 0, this);\n    let handleResize = helper.debounce(this.resize, 0, this);\n    this.pages.style.height = this.viewHeight + 'px';\n    this.createNav();\n    this.textFadeInOut(); // if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\n    //     document.addEventListener('wheel', handleMouseWheel);\n    // } else {\n    //     document.addEventListener('DOMMouseScroll', handleMouseWheel);\n    // }\n\n    document.addEventListener('scroll', handleMouseWheel);\n    document.addEventListener('touchstart', event => {\n      this.startY = event.touches[0].pageY;\n    });\n    document.addEventListener('touchend', event => {\n      let endY = event.changedTouches[0].pageY;\n\n      if (this.startY - endY < 0) {\n        this.scrollUp();\n      }\n\n      if (this.startY - endY > 0) {\n        this.scrollDown();\n      }\n    });\n    document.addEventListener('touchmove', event => {\n      event.preventDefault();\n    });\n    window.addEventListener('resize', handleResize);\n  }\n\n}\n\nexport default FullScrollPage;","map":{"version":3,"sources":["C:/Users/Ali/Desktop/improver/components/Main/FullScrollPage.js"],"names":["helper","getDelta","event","wheelDelta","detail","throttle","method","delay","context","inThrottle","apply","arguments","setTimeout","debounce","inDebounce","clearTimeout","FullScrollPage","constructor","currentPageNumber","totalPageNumber","pages","viewHeight","document","documentElement","clientHeight","mouseScroll","delta","scrollDown","scrollUp","style","top","updateNav","textFadeInOut","scrollTo","targetPageNumber","createNav","pageNav","createElement","className","appendChild","i","innerHTML","navDots","getElementsByClassName","Array","prototype","slice","call","classList","add","forEach","e","index","addEventListener","remove","resize","height","containersDom","textContainers","textContainerInSight","init","handleMouseWheel","handleResize","startY","touches","pageY","endY","changedTouches","preventDefault","window"],"mappings":"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","sourcesContent":["const helper = {\r\n    getDelta(event) {\r\n        if (event.wheelDelta) {\r\n            return event.wheelDelta;\r\n        } else {\r\n            return -event.detail;\r\n        }\r\n    },\r\n    throttle(method, delay, context) {\r\n        let inThrottle = false;\r\n        return function () {\r\n            if (!inThrottle) {\r\n                inThrottle = true;\r\n                method.apply(context, arguments);\r\n                setTimeout(() => {\r\n                    inThrottle = false;\r\n                }, delay);\r\n            }\r\n        };\r\n    },\r\n    debounce(method, delay, context) {\r\n        let inDebounce;\r\n        return function () {\r\n            clearTimeout(method.inDebounce);\r\n            inDebounce = setTimeout(() => {\r\n                method.apply(context, arguments);\r\n            }, delay);\r\n        };\r\n    },\r\n};\r\nclass FullScrollPage {\r\n    constructor(currentPageNumber, totalPageNumber, pages) {\r\n        this.currentPageNumber = currentPageNumber;\r\n        this.totalPageNumber = totalPageNumber;\r\n        this.pages = pages;\r\n        this.viewHeight = document.documentElement.clientHeight;\r\n    }\r\n    mouseScroll(event) {\r\n        let delta = helper.getDelta(event);\r\n        if (delta < 0) {\r\n            this.scrollDown();\r\n        } else {\r\n            this.scrollUp();\r\n        }\r\n    }\r\n    scrollDown() {\r\n        if (this.currentPageNumber !== this.totalPageNumber) {\r\n            this.pages.style.top = -this.viewHeight * this.currentPageNumber + 'px';\r\n            this.currentPageNumber++;\r\n            this.updateNav();\r\n            this.textFadeInOut();\r\n        }\r\n    }\r\n    scrollUp() {\r\n        if (this.currentPageNumber !== 1) {\r\n            this.pages.style.top = -this.viewHeight * (this.currentPageNumber - 2) + 'px';\r\n            this.currentPageNumber--;\r\n            this.updateNav();\r\n            this.textFadeInOut();\r\n        }\r\n    }\r\n    scrollTo(targetPageNumber) {\r\n        while (this.currentPageNumber !== targetPageNumber) {\r\n            if (this.currentPageNumber > targetPageNumber) {\r\n                this.scrollUp();\r\n            } else {\r\n                this.scrollDown();\r\n            }\r\n        }\r\n    }\r\n    createNav() {\r\n        const pageNav = document.createElement('div');\r\n        pageNav.className = 'nav-dot-container';\r\n        this.pages.appendChild(pageNav);\r\n        for (let i = 0; i < this.totalPageNumber; i++) {\r\n            pageNav.innerHTML += '<p class=\"nav-dot\"><span></span></p>';\r\n        }\r\n        const navDots = document.getElementsByClassName('nav-dot');\r\n        this.navDots = Array.prototype.slice.call(navDots);\r\n        this.navDots[0].classList.add('dot-active');\r\n        this.navDots.forEach((e, index) => {\r\n            e.addEventListener('click', (event) => {\r\n                this.scrollTo(index + 1);\r\n                this.navDots.forEach((e) => {\r\n                    e.classList.remove('dot-active');\r\n                });\r\n                e.classList.add('dot-active');\r\n            });\r\n        });\r\n    }\r\n    updateNav() {\r\n        this.navDots.forEach((e) => {\r\n            e.classList.remove('dot-active');\r\n        });\r\n        this.navDots[this.currentPageNumber - 1].classList.add('dot-active');\r\n    }\r\n    resize() {\r\n        this.viewHeight = document.documentElement.clientHeight;\r\n        this.pages.style.height = this.viewHeight + 'px';\r\n        this.pages.style.top = -this.viewHeight * (this.currentPageNumber - 1) + 'px';\r\n    }\r\n    textFadeInOut() {\r\n        const containersDom = document.getElementsByClassName('text-container');\r\n        let textContainers = Array.prototype.slice.call(containersDom);\r\n        textContainers.forEach((e) => {\r\n            e.classList.remove('in-sight');\r\n        });\r\n        let textContainerInSight = textContainers[this.currentPageNumber - 1];\r\n        // textContainerInSight.classList.add('in-sight');\r\n    }\r\n    init() {\r\n        let handleMouseWheel = helper.throttle(this.mouseScroll, 0, this);\r\n        let handleResize = helper.debounce(this.resize, 0, this);\r\n        this.pages.style.height = this.viewHeight + 'px';\r\n        this.createNav();\r\n        this.textFadeInOut();\r\n        // if (navigator.userAgent.toLowerCase().indexOf('firefox') === -1) {\r\n        //     document.addEventListener('wheel', handleMouseWheel);\r\n        // } else {\r\n        //     document.addEventListener('DOMMouseScroll', handleMouseWheel);\r\n        // }\r\n        document.addEventListener('scroll', handleMouseWheel);\r\n        document.addEventListener('touchstart', (event) => {\r\n            this.startY = event.touches[0].pageY;\r\n        });\r\n        document.addEventListener('touchend', (event) => {\r\n            let endY = event.changedTouches[0].pageY;\r\n            if (this.startY - endY < 0) {\r\n                this.scrollUp();\r\n            }\r\n            if (this.startY - endY > 0) {\r\n                this.scrollDown();\r\n            }\r\n        });\r\n        document.addEventListener('touchmove', (event) => {\r\n            event.preventDefault();\r\n        });\r\n        window.addEventListener('resize', handleResize);\r\n    }\r\n}\r\n\r\nexport default FullScrollPage;\r\n"]},"metadata":{},"sourceType":"module"}